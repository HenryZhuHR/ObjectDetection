import{r as a,o as p,c as r,a as e,b as t,F as l,e as n,d as o}from"./app.797b6d26.js";import{_ as c}from"./plugin-vue_export-helper.21dcd24c.js";var i="/deep-detection/assets/logo.3812954e.png",d="/deep-detection/assets/dog.82758e07.jpg",m="/deep-detection/assets/image-1.d5ba703f.png",u="/deep-detection/assets/image-2.92f459d2.png";const _={},g=e("h2",{id:"yolox\u4F7F\u7528\u8BF4\u660E",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#yolox\u4F7F\u7528\u8BF4\u660E","aria-hidden":"true"},"#"),n(" YOLOX\u4F7F\u7528\u8BF4\u660E")],-1),h={id:"\u4EC0\u4E48\u662Fyolox",tabindex:"-1"},b=e("a",{class:"header-anchor",href:"#\u4EC0\u4E48\u662Fyolox","aria-hidden":"true"},"#",-1),x=n(" \u4EC0\u4E48\u662F"),O={href:"https://github.com/Megvii-BaseDetection/YOLOX",target:"_blank",rel:"noopener noreferrer"},v=n("YOLOX"),y=n("\uFF1F"),f=o('<p><img src="'+i+`" alt="rect"></p><p>\u200B YOLOX\u662F\u65F7\u89C6\u79D1\u6280\u57FA\u4E8EYOLO\u7CFB\u5217\u6539\u8FDB\u800C\u6210\u7684\u9AD8\u6027\u80FD\u76EE\u6807\u68C0\u6D4B\u5668\uFF0C\u7ED3\u5408\u4E86\u8FD1\u4E24\u5E74\u51FA\u73B0\u7684anchor-free\uFF0C\u6807\u7B7E\u5206\u914D\uFF0C\u6570\u636E\u589E\u5E7F\u7B49\u6280\u672F\uFF0C\u5411\u8F83\u4E8EYOLOv3, YOLOv4, YOLOv5\u7B49\u62E5\u6709\u66F4\u9AD8\u7684\u6027\u80FD\uFF0C\u53EF\u4EE5\u6709\u6548\u5730\u5F25\u5408\u76EE\u6807\u68C0\u6D4B\u9886\u57DF\u5185\u6280\u672F\u7814\u7A76\u4E0E\u4EA7\u4E1A\u5E94\u7528\u4E4B\u95F4\u7684\u5DEE\u8DDD</p><h3 id="\u5FEB\u901F\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u5FEB\u901F\u4F7F\u7528" aria-hidden="true">#</a> \u5FEB\u901F\u4F7F\u7528</h3><p><strong>1.\u5B89\u88C5YOLOX</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git clone git@github.com:Megvii-BaseDetection/YOLOX.git
cd YOLOX
pip3 install -U pip &amp;&amp; pip3 install -r requirements.txt
pip3 install -v -e .  # or  python3 setup.py develop
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,5),L=n("2.\u5B89\u88C5"),Y={href:"https://github.com/cocodataset/cocoapi",target:"_blank",rel:"noopener noreferrer"},X=n("pycocotools"),C=o(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>pip3 install cython; pip3 install &#39;git+https://github.com/cocodataset/cocoapi.git#subdirectory=PythonAPI&#39;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>3.\u9A8C\u8BC1\u5B89\u88C5\u73AF\u5883</strong></p><p>\u4E0B\u8F7D\u5B98\u65B9\u63D0\u4F9B\u7684\u8BAD\u7EC3\u597D\u7684\u6743\u91CD\u6A21\u578Byolox_s.pth\uFF0C\u8FD0\u884C\u4EE5\u4E0B\u6307\u4EE4</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cd YOLOX
python tools/demo.py image -n yolox-s -c /path/to/your/yolox_s.pth --path assets/dog.jpg --conf 0.25 --nms 0.45 --tsize 640 --save_result --device [cpu/gpu]
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>python tools/demo.py image -f exps/example/custom/yolox_s.py -c yolox_s.pth --path assets/dog.jpg --conf 0.25 --nms 0.45 --tsize 640 --save_result --device [cpu/gpu]
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u6240\u4FDD\u5B58\u56FE\u50CF\u5982\u4E0B\u6240\u793A\u5219\u8BF4\u660E\u73AF\u5883\u914D\u7F6E\u6210\u529F</p><p><img src="`+d+'" alt="rect"></p><h3 id="\u6570\u636E\u96C6\u8BAD\u7EC3-coco" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u96C6\u8BAD\u7EC3-coco" aria-hidden="true">#</a> \u6570\u636E\u96C6\u8BAD\u7EC3\uFF08COCO\uFF09</h3><p>YOLOX\u7684\u6570\u636E\u96C6\u8BAD\u7EC3\u6709COCO\u548CVOC\u4E24\u79CD\u65B9\u5F0F\uFF0C\u4EE5\u4E0B\u5C06\u7B80\u8981\u6982\u8FF0\u4F7F\u7528COCO\u6570\u636E\u96C6\u8BAD\u7EC3\u7684\u65B9\u6CD5\uFF1A</p>',9),I=e("strong",null,"1.\u6807\u6CE8",-1),V=n("\uFF1A\u4F7F\u7528"),D={href:"https://github.com/tzutalin/labelImg",target:"_blank",rel:"noopener noreferrer"},j=n("labelImg"),k=n(" \u5BF9\u6570\u636E\u96C6\u8FDB\u884C\u6807\u6CE8"),N=e("strong",null,"2.\u6570\u636E\u96C6\u7ED3\u6784\u8F6C\u6362",-1),R=n("\uFF1A\u53C2\u8003"),z={href:"https://github.com/RapidAI/YOLO2COCO",target:"_blank",rel:"noopener noreferrer"},B=n("YOLO2COCO"),E=n("\u7B49\u9879\u76EE\u5C06\u6570\u636E\u96C6\u7ED3\u6784\u8F6C\u6362\u4E3A\u5982\u4E0B\u683C\u5F0F\uFF1A"),S=o(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>VOC
\u251C\u2500\u2500 annotations
\u251C\u2500\u2500 train2017
    \u251C\u2500\u2500 0000001.jpg
    \u251C\u2500\u2500 ...
\u251C\u2500\u2500 val2017
    \u251C\u2500\u2500 0000001.jpg
    \u251C\u2500\u2500 ...
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>3.\u6570\u636E\u96C6\u8F6C\u79FB</strong>\uFF1A\u5C06\u6570\u636E\u96C6<code>VOC</code>\u8F6C\u79FB\u81F3<code>$YOLOX_DIR/datasets</code></p><p><strong>4.\u4FEE\u6539\u6570\u636E\u96C6\u4FDD\u5B58\u8DEF\u5F84\u4E0E\u7C7B\u522B\u4E2A\u6570</strong>\uFF1A\u5728\u6587\u4EF6\u8DEF\u5F84<code>YOLOX_DIR/exps/example/custom/yolox_s.py</code>\u4E2D\uFF0C\u5C06<code>self.data_dir</code>\u4FEE\u6539\u4E3A\u81EA\u5DF1\u6570\u636E\u96C6\u7684\u4FDD\u5B58\u8DEF\u5F84\uFF0C\u5C06<code>self.num_classes</code>\u4FEE\u6539\u4E3A\u81EA\u5DF1\u6570\u636E\u96C6\u6240\u8981\u8BC6\u522B\u7684\u7C7B\u522B\u4E2A\u6570</p><p><img src="`+m+'" alt="rect"></p><p><strong>5.\u4FEE\u6539\u6570\u636E\u96C6\u540D\u79F0</strong>\uFF1A\u5728\u6587\u4EF6\u8DEF\u5F84<code> YOLOX_DIR/yolox/data/datasets/coco_classes.py</code>\u5904\u5C06<code>COCO_CLASSES</code>\u4FEE\u6539\u4E3A\u81EA\u5DF1\u6570\u636E\u96C6\u6240\u8981\u8BC6\u522B\u7684\u7C7B\u522B\u540D\u79F0</p><p><img src="'+u+`" alt="rect"></p><p><strong>6.\u8BAD\u7EC3\u6570\u636E\u96C6</strong></p><p>\u5728<code>/YOLOX_DIR</code>\u4E0B\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>python3 tools/train.py -f exps/example/custom/yolox_s.py -d 1 -b 64 --fp16  -c yolox_s.pth
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u8BAD\u7EC3\u6240\u5F97\u7ED3\u679C\u4FDD\u5B58\u5728<code>YOLOX_DIR/YOLOX_outputs/yolox_s</code>\u4E2D</p><h3 id="\u8BAD\u7EC3\u6743\u91CD\u8F6C\u6362" tabindex="-1"><a class="header-anchor" href="#\u8BAD\u7EC3\u6743\u91CD\u8F6C\u6362" aria-hidden="true">#</a> \u8BAD\u7EC3\u6743\u91CD\u8F6C\u6362</h3><p>\u6A21\u578B\u8BAD\u7EC3\u5B8C\u6210\u540E\u9700\u8981\u5C06<code>.pth</code>\u6587\u4EF6\u8F6C\u6362\u4E3AOpenVINO\u6240\u9700\u8981\u7684<code>.xml</code>\u4E0E<code>.bin</code>\u6587\u4EF6\uFF0C\u8F6C\u5316\u6D41\u7A0B\u5982\u4E0B\u6240\u793A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  .pth-&gt; .onnx  # \u901A\u8FC7\u6267\u884C\u6587\u4EF6 /tools/export_onnx.py
            \u2514\u2500&gt; .onnx -&gt; .xml/.bin  #\u901A\u8FC7\u6267\u884C\u6587\u4EF6\uFF1A/opt/intel/openvino_DIR/deployment_tools/model_optimizer/mo_onnx.py
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>1.pth2onnx</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>python3 tools/export_onnx.py --output-name best01.onnx -f exps/example/custom/yolox_s.py -c best01.pth
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>2.onnx2xml</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>python3 /opt/intel/openvino_2021/deployment_tools/model_optimizer/mo_onnx.py --input_model best01.onnx --input_shape [1,3,640,640] --data_type FP16 --output_dir converted_output
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="\u9A8C\u8BC1\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#\u9A8C\u8BC1\u6A21\u578B" aria-hidden="true">#</a> \u9A8C\u8BC1\u6A21\u578B</h3><p><code>YOLOX_DIR/demo/OpenVINO</code>\u4E2D\u6709c++\u548Cpython\u4E24\u5957\u4F7F\u7528OpenVINO\u90E8\u7F72YOLOX\u7684\u4EE3\u7801\uFF0C\u6267\u884C\u76F8\u5E94\u6307\u4EE4\u9A8C\u8BC1\u8BAD\u7EC3\u7ED3\u679C(\u4EE5python\u4E3A\u4F8B)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cd ~/YOLOX/demo/OpenVINO/python
python3 openvino_inference.py -m best00.xml -i cola.jpg
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,20);function A(F,P){const s=a("ExternalLinkIcon");return p(),r(l,null,[g,e("h3",h,[b,x,e("a",O,[v,t(s)]),y]),f,e("p",null,[e("strong",null,[L,e("a",Y,[X,t(s)])])]),C,e("p",null,[I,V,e("a",D,[j,t(s)]),k]),e("p",null,[N,R,e("a",z,[B,t(s)]),E]),S],64)}var T=c(_,[["render",A]]);export{T as default};
